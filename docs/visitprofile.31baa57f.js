function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}var t=globalThis,o={},n={},r=t.parcelRequirefc52;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return o[e]=r,t.call(r.exports,r,r.exports),r.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequirefc52=r);var s=r.register;s("27Lyk",function(t,o){e(t.exports,"register",()=>n,e=>n=e);var n,r=new Map;n=function(e,t){for(var o=0;o<t.length-1;o+=2)r.set(t[o],{baseUrl:e,path:t[o+1]})}}),s("1ahZW",function(t,o){e(t.exports,"getpostsFromUsers",()=>s),e(t.exports,"getLoginUser",()=>a),e(t.exports,"getYourUser",()=>i),e(t.exports,"postNewUser",()=>l),e(t.exports,"allUsers",()=>c),e(t.exports,"postForum1",()=>u),e(t.exports,"postCommentForum1",()=>d),e(t.exports,"postForum2",()=>p),e(t.exports,"postForum3",()=>f),e(t.exports,"deleteAccount",()=>m);let n="https://slutprojekt-js2-socialmedia-default-rtdb.europe-west1.firebasedatabase.app/",r={"Content-type":"application/json; charset=UTF-8"};async function s(e){let t=n+`${e}/0/posts/.json`,o=await fetch(t,{method:"GET",headers:r});return await o.json()}async function a(){let e=await fetch(n+"AllUsers/.json",{method:"GET",headers:r}),t=await e.json();return console.log(t),t}async function i(e){let t=n+`AllUsers/${e}.json`,o=await fetch(t,{method:"GET",headers:r}),s=await o.json();return console.log(s),s}async function l(e){let t={method:"POST",body:JSON.stringify(e),headers:r},o=await fetch(n+"AllUsers/.json",t),s=await o.json();return console.log(s),s}async function c(){try{let e=await fetch("https://slutprojekt-js2-socialmedia-default-rtdb.europe-west1.firebasedatabase.app/AllUsers.json");return await e.json()}catch(e){throw console.error("Error fetching all users:",e),e}}async function u(e){let t={method:"POST",body:JSON.stringify(e),headers:r},o=await fetch(n+"forum1/0/posts.json",t),s=await o.json();return console.log(s),s}async function d(e,t){let o=n+`forum1/0/comments/${t}/allCommentId.json`,s={method:"POST",body:JSON.stringify(e),headers:r},a=await fetch(o,s),i=await a.json();return console.log(i),i}async function p(e){let t={method:"POST",body:JSON.stringify(e),headers:r},o=await fetch(n+"forum2/0/posts.json",t),s=await o.json();return console.log(s),s}async function f(e){let t={method:"POST",body:JSON.stringify(e),headers:r},o=await fetch(n+"forum3/0/posts.json",t),s=await o.json();return console.log(s),s}async function m(e){let t=n+`AllUsers/${e}.json`,o=await fetch(t,{method:"DELETE"});console.log(await o.json())}}),s("2DCO9",function(t,o){e(t.exports,"createAndAppend",()=>n);function n(e,t,o){let n=document.createElement(t);return"div"!=t&&"img"!=t&&(n.innerText=o),e.append(n),n}}),s("j2nI3",function(e,t){e.exports=new URL("pig.259b56e2.jpeg",import.meta.url).toString()}),s("9SEX7",function(e,t){e.exports=new URL("cow.5e4743a9.jpeg",import.meta.url).toString()}),s("hC4Lz",function(e,t){e.exports=new URL("chick.fc389aad.jpeg",import.meta.url).toString()}),r("27Lyk").register(new URL("",import.meta.url).toString(),JSON.parse('["c9cyC","visitprofile.31baa57f.js","jHcLR","pig.259b56e2.jpeg","4pF8D","cow.5e4743a9.jpeg","80Qni","chick.fc389aad.jpeg"]'));var a=r("1ahZW"),i=r("2DCO9");const l=localStorage.getItem("userId");async function c(e){try{console.log("Filling user dropdown...");let t=await (0,a.allUsers)(),o=document.getElementById("userDropdown");if(o)for(let n in o.innerHTML=" ",t){let r=t[n].username,s=document.createElement("option");s.value=n,s.textContent=r,s.selected=n==e,o.appendChild(s)}console.log("User dropdown filled successfully.")}catch(e){console.error("Error filling user dropdown:",e)}}console.log(l),(0,a.getYourUser)(l).then(e=>{document.querySelector(".username").textContent=e.username;let t=document.getElementById("profilePicture");if("pig"==e.userImage){let e=new URL(r("j2nI3"));t.src=e.toString()}else if("cow"==e.userImage){let e=new URL(r("9SEX7"));t.src=e.toString()}else{let e=new URL(r("hC4Lz"));t.src=e.toString()}});const u=new URLSearchParams(window.location.search).get("userId")??localStorage.getItem("userId");async function d(e,t){let o;let n=await (0,a.getpostsFromUsers)(t);for(o in n){var r=n[o];r.userID===e&&p(o,r.postContent)}}async function p(e,t){let o=document.querySelector(".latestComments"),n=(0,i.createAndAppend)(o,"div"," ");n.id=e,(0,i.createAndAppend)(n,"p",t),localStorage.setItem("postId",e)}window.history.replaceState({},document.title,"visitprofile.html"),function(e){c(e).then(()=>{let e=document.getElementById("userDropdown");e.addEventListener("change",e=>{let t=e.target.value;console.log(t),l&&(0,a.getYourUser)(t).then(e=>{console.log(e.username),document.querySelector(".visitedProfileUsername").textContent=e.username;let o=document.getElementById("profilePicturex2");if("pig"==e.userImage){let e=new URL(r("j2nI3"));o.src=e.toString()}else if("cow"==e.userImage){let e=new URL(r("9SEX7"));o.src=e.toString()}else{let e=new URL(r("hC4Lz"));o.src=e.toString()}document.querySelector(".visitedProfileUser").innerHTML=`${e.username}'s latest posts:`,document.querySelector(".latestComments").innerHTML=" ",d(t,"forum1"),d(t,"forum2"),d(t,"forum3")})}),e.dispatchEvent(new Event("change"))})}(u);
//# sourceMappingURL=visitprofile.31baa57f.js.map
